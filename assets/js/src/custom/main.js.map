{"version":3,"sources":["main.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;EAAA,MAAM,CAAC,QAAP,GAAkB;;EAClB,IAAA,GAAO,SAAA;AACH,QAAA;IAAA,OAAA,GAAU;IACV,SAAA,GAAY;IAGZ,YAAA,GAAe,SAAC,GAAD,EAAM,GAAN;aACX,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,CAAA,CAAA,GAAgB,CAAC,GAAA,GAAM,GAAN,GAAY,CAAb,CAA3B,CAAA,GAA8C;IADnC;IAIf,QAAA,GAAW;IAEX,MAAA,GAAS,SAAA;AACL,UAAA;MAAA,QAAA,GAAW,CAAC,qBAAD,EAAwB,wBAAxB,EAAkD,wBAAlD,EAA4E,qBAA5E,EAAmG,0BAAnG,EAA+H,sBAA/H,EAAuJ,oBAAvJ,EAA6K,kBAA7K,EAAiM,iBAAjM,EAAoN,iBAApN,EAAuO,yBAAvO;MAGX,IAAA,GAAO;AACP,aAAM,IAAA,KAAQ,QAAd;QACI,IAAA,GAAO,YAAA,CAAa,CAAb,EAAgB,QAAQ,CAAC,MAAT,GAAgB,CAAhC;MADX;MAEA,QAAA,GAAW;MAEX,CAAA,CAAE,qBAAF,CAAwB,CAAC,MAAzB,CAAA;MACA,WAAA,GAAc,CAAA,CAAE,SAAF,CAAY,CAAC,IAAb,CAAkB,QAAS,CAAA,IAAA,CAA3B,CAAiC,CAAC,IAAlC,CAAuC;QAAA,OAAA,EAAO,gBAAP;QAAyB,EAAA,EAAI,qBAA7B;OAAvC,CAA0F,CAAC,QAA3F,CAAoG,SAApG;MACd,CAAA,CAAE,sBAAF,CAAyB,CAAC,IAA1B,CAA+B;QAAA,EAAA,EAAI,oBAAJ;OAA/B;MAGA,UAAA,CAAY,SAAA;eACR,WAAW,CAAC,IAAZ,CAAiB;UAAA,EAAA,EAAI,qBAAJ;SAAjB;MADQ,CAAZ,EAEE,EAFF;MAKA,UAAA,CAAY,SAAA;QACR,IAAG,OAAH;UAAgB,MAAA,CAAA,EAAhB;;MADQ,CAAZ,EAGE,IAHF;IAnBK;IAyBT,UAAA,CAAY,SAAA;MACR,IAAG,OAAH;eAAgB,MAAA,CAAA,EAAhB;;IADQ,CAAZ,EAEE,GAFF;IAIA,MAAA,GAAS,SAAC,OAAD;;QAAC,UAAU;;MAChB,CAAA,CAAE,QAAF,CAAW,CAAC,GAAZ,CAAgB;QAAA,YAAA,EAAc,CAAA,CAAE,MAAF,CAAS,CAAC,MAAV,CAAA,CAAd;OAAhB;MACA,SAAA,GAAY,CAAA,CAAE,MAAF,CAAS,CAAC,MAAV,CAAA;MACZ,CAAA,CAAE,4BAAF,CAA+B,CAAC,GAAhC,CAAoC;QAAA,SAAA,EAAW,SAAA,GAAU,CAAA,CAAE,MAAF,CAAS,CAAC,WAAV,CAAA,CAAV,GAAkC,CAAA,CAAE,SAAF,CAAY,CAAC,WAAb,CAAA,CAA7C;OAApC;MACA,CAAA,CAAE,gBAAF,CAAmB,CAAC,IAApB,CAAyB,SAAA;AACrB,YAAA;QAAA,GAAA,GAAO,CAAA,CAAE,IAAF,CAAO,CAAC,MAAR,CAAA,CAAgB,CAAC,WAAjB,CAAA,CAAA,GAAiC,CAAjC,GAAqC,CAAA,CAAE,IAAF,CAAO,CAAC,WAAR,CAAA,CAAA,GAAwB;QACpE,IAAG,GAAA,GAAM,CAAT;UAAgB,GAAA,GAAM,EAAtB;;eACA,CAAA,CAAE,IAAF,CAAO,CAAC,GAAR,CAAY;UAAA,GAAA,EAAK,GAAL;SAAZ;MAHqB,CAAzB;MAIA,CAAA,CAAE,WAAF,CAAc,CAAC,IAAf,CAAoB,SAAA;AAChB,YAAA;QAAA,GAAA,GAAO,SAAA,GAAY,CAAZ,GAAgB,CAAA,CAAE,IAAF,CAAO,CAAC,WAAR,CAAA,CAAA,GAAwB,CAAxC,GAA4C;QACnD,IAAG,GAAA,GAAM,CAAT;UAAgB,GAAA,GAAM,EAAtB;;eACA,CAAA,CAAE,IAAF,CAAO,CAAC,GAAR,CAAY;UAAA,GAAA,EAAK,GAAL;SAAZ;MAHgB,CAApB;MAIA,IAAG,CAAC,OAAJ;QACI,UAAA,CAAW,SAAA;iBACP,MAAA,CAAO,IAAP;QADO,CAAX,EAEE,GAFF;QAGA,UAAA,CAAW,SAAA;iBACP,MAAA,CAAO,IAAP;QADO,CAAX,EAEE,IAFF,EAJJ;;IAZK;IAqBT,KAAA,GAAQ;IACR,iBAAA,GAAoB;IAEpB,WAAA,GACI;MAAA,IAAA,EAAM,MAAM,CAAC,IAAb;MACA,IAAA,EAAM,SAAA;AACF,eAAO,SAAA,GAAA;MADL,CADN;MAGA,SAAA,EAAW,SAAA;QACP,CAAA,CAAE,2BAAF,CAA8B,CAAC,OAA/B,CAAuC,OAAvC;AACA,eAAO,SAAA,GAAA;MAFA,CAHX;MAMA,KAAA,EAAO,SAAA;AACH,YAAA;QAAA,UAAA,GAAiB,IAAA,WAAW,CAAC,UAAZ,CAAA;QACjB,IAAG,CAAA,CAAE,MAAF,CAAS,CAAC,KAAV,CAAA,CAAA,GAAoB,GAAvB;UACI,SAAA,GAAgB,IAAA,WAAA,CAAA;UAChB,SAAS,CAAC,GAAV,CAAc;YACV,QAAQ,CAAC,MAAT,CAAgB,qBAAhB,EAAuC,CAAvC,EAA0C;cAAC,CAAA,EAAG,OAAJ;cAAa,OAAA,EAAS,CAAtB;aAA1C,EAAoE;cAAC,CAAA,EAAG,CAAJ;cAAO,OAAA,EAAS,CAAhB;cAAmB,IAAA,EAAM,MAAM,CAAC,OAAhC;aAApE,CADU,EAEV,QAAQ,CAAC,MAAT,CAAgB,qBAAhB,EAAuC,CAAvC,EAA0C;cAAC,CAAA,EAAG,OAAJ;cAAa,OAAA,EAAS,CAAtB;aAA1C,EAAoE;cAAC,CAAA,EAAG,CAAJ;cAAO,OAAA,EAAS,CAAhB;cAAmB,IAAA,EAAM,MAAM,CAAC,OAAhC;aAApE,CAFU,EAGV,QAAQ,CAAC,MAAT,CAAgB,yBAAhB,EAA2C,CAA3C,EAA8C;cAAC,CAAA,EAAG,OAAJ;cAAa,OAAA,EAAS,CAAtB;aAA9C,EAAwE;cAAC,CAAA,EAAG,CAAJ;cAAO,OAAA,EAAS,CAAhB;cAAmB,IAAA,EAAM,MAAM,CAAC,OAAhC;aAAxE,CAHU;WAAd;UAKA,SAAA,GAAgB,IAAA,WAAA,CAAA;UAChB,SAAS,CAAC,GAAV,CAAc;YACV,QAAQ,CAAC,MAAT,CAAgB,cAAhB,EAAgC,CAAhC,EAAmC;cAAC,CAAA,EAAG,CAAJ;aAAnC,EAA2C;cAAC,CAAA,EAAG,GAAJ;cAAS,IAAA,EAAM,MAAM,CAAC,QAAtB;aAA3C,CADU,EAEV,QAAQ,CAAC,MAAT,CAAgB,iBAAhB,EAAmC,CAAnC,EAAsC;cAAC,CAAA,EAAG,CAAJ;aAAtC,EAA8C;cAAC,CAAA,EAAG,GAAJ;cAAS,IAAA,EAAM,MAAM,CAAC,QAAtB;aAA9C,CAFU,EAGV,QAAQ,CAAC,MAAT,CAAgB,mBAAhB,EAAqC,CAArC,EAAwC;cAAC,CAAA,EAAG,CAAJ;aAAxC,EAAgD;cAAC,CAAA,EAAG,CAAJ;cAAO,IAAA,EAAM,MAAM,CAAC,QAApB;aAAhD,CAHU,EAIV,QAAQ,CAAC,MAAT,CAAgB,sBAAhB,EAAwC,CAAxC,EAA2C;cAAC,OAAA,EAAS,CAAV;aAA3C,EAAyD;cAAC,OAAA,EAAS,CAAV;cAAa,IAAA,EAAM,MAAM,CAAC,QAA1B;aAAzD,CAJU;WAAd;UAMA,MAAA,GAAa,IAAA,WAAW,CAAC,KAAZ,CAAkB;YAAA,QAAA,EAAU,GAAV;YAAe,MAAA,EAAO,CAAtB;YAAyB,cAAA,EAAgB,eAAzC;YAA0D,OAAA,EAAS,IAAnE;WAAlB;UACb,MAAM,CAAC,QAAP,CAAgB,SAAhB;UACA,MAAA,GAAa,IAAA,WAAW,CAAC,KAAZ,CAAkB;YAAA,QAAA,EAAU,GAAV;YAAe,MAAA,EAAO,GAAtB;YAA2B,cAAA,EAAgB,eAA3C;YAA4D,OAAA,EAAS,IAArE;WAAlB;UACb,MAAM,CAAC,QAAP,CAAgB,SAAhB;UACA,UAAU,CAAC,QAAX,CAAoB,MAApB,CAA2B,CAAC,QAA5B,CAAqC,MAArC,EAlBJ;;QAmBA,MAAA,GAAa,IAAA,WAAW,CAAC,KAAZ,CAAkB;UAAA,MAAA,EAAO,CAAP;UAAU,cAAA,EAAgB,oBAA1B;UAAgD,OAAA,EAAS,IAAzD;SAAlB;QACb,MAAA,GAAa,IAAA,WAAW,CAAC,KAAZ,CAAkB;UAAA,MAAA,EAAO,CAAP;UAAU,cAAA,EAAgB,cAA1B;UAA0C,OAAA,EAAS,IAAnD;SAAlB;QACb,MAAM,CAAC,cAAP,CAAsB,QAAtB,EAAgC,SAAhC;QACA,MAAM,CAAC,cAAP,CAAsB,cAAtB,EAAsC,QAAtC;QACA,UAAU,CAAC,QAAX,CAAoB,MAApB,CAA2B,CAAC,QAA5B,CAAqC,MAArC;QACA,iBAAiB,CAAC,IAAlB,CAAuB,UAAvB;AACA,eAAO,SAAA,GAAA;MA3BJ,CANP;;IAmCJ,CAAA,CAAE,sBAAF,CAAyB,CAAC,KAA1B,CAAgC,SAAA;aAC5B,CAAA,CAAE,MAAF,CAAS,CAAC,OAAV,CAAkB;QAAC,SAAA,EAAW,SAAZ;OAAlB,EAA0C,GAA1C;IAD4B,CAAhC;IAGA,IAAA,GAAO,SAAA,GAAA;IACP,QAAA,GAAW,SAAC,IAAD;AACP,UAAA;MAAA,IAAA,CAAA;MACA,IAAG,CAAA,CAAE,cAAF,CAAiB,CAAC,QAAlB,CAA2B,QAA3B,CAAH;QACI,CAAA,CAAE,YAAF,CAAe,CAAC,WAAhB,CAA4B,QAA5B;QACA,CAAA,CAAE,cAAF,CAAiB,CAAC,WAAlB,CAA8B,QAA9B,CAAuC,CAAC,KAAxC,CAA8C,GAA9C,CAAkD,CAAC,IAAnD,CAAwD,CAAxD,EAFJ;;MAGA,OAAA,GAAU,CAAA,CAAE,qBAAF,CAAwB,CAAC,WAAzB,CAAqC,OAArC;MACV,OAAO,CAAC,WAAR,CAAoB,QAApB;MACA,CAAA,CAAE,eAAF,CAAkB,CAAC,WAAnB,CAA+B,QAA/B;AACA,WAAA,uCAAA;;QAAA,IAAI,CAAC,GAAL,CAAS,aAAT;AAAA;AACA,WAAA,qDAAA;;QAAA,UAAU,CAAC,OAAX,CAAmB,IAAnB;AAAA;MACA,CAAA,CAAE,oBAAA,GAAqB,IAArB,GAA0B,KAA5B,CAAkC,CAAC,QAAnC,CAA4C,QAA5C;MACA,CAAA,CAAE,GAAA,GAAI,IAAN,CAAW,CAAC,GAAZ,CAAgB;QAAA,OAAA,EAAS,CAAT;OAAhB,CAA2B,CAAC,IAA5B,CAAA;MACA,EAAA,GAAS,IAAA,WAAA,CAAA;MACT,EAAE,CAAC,GAAH,CAAO;QACH,QAAQ,CAAC,MAAT,CAAgB,OAAhB,EAAyB,GAAzB,EAA8B;UAAC,CAAA,EAAG,IAAJ;UAAU,OAAA,EAAS,CAAnB;SAA9B,EAAqD;UAAC,CAAA,EAAG,OAAJ;UAAa,OAAA,EAAS,CAAtB;UAAyB,IAAA,EAAM,MAAM,CAAC,OAAtC;UAA+C,UAAA,EAAY,SAAA;YAC5G,OAAO,CAAC,IAAR,CAAA;UAD4G,CAA3D;SAArD,CADG,EAKH,QAAQ,CAAC,MAAT,CAAgB,CAAA,CAAE,GAAA,GAAI,IAAN,CAAhB,EAA6B,GAA7B,EAAkC;UAAC,CAAA,EAAG,MAAJ;UAAY,OAAA,EAAS,CAArB;SAAlC,EAA2D;UAAC,CAAA,EAAG,IAAJ;UAAU,OAAA,EAAS,CAAnB;UAAsB,IAAA,EAAM,MAAM,CAAC,OAAnC;SAA3D,CALG;OAAP;MAOA,EAAE,CAAC,IAAH,CAAA;MACA,CAAA,CAAE,MAAF,CAAS,CAAC,SAAV,CAAoB,CAApB;MACA,UAAA,CAAY,SAAA;QACR,CAAA,CAAE,GAAA,GAAI,IAAN,CAAW,CAAC,QAAZ,CAAqB,QAArB;QACA,MAAA,CAAA;eACA,CAAA,CAAE,MAAF,CAAS,CAAC,OAAV,CAAkB,QAAlB;MAHQ,CAAZ,EAIE,GAJF;MAKA,IAAA,GAAO,WAAY,CAAA,IAAA,CAAZ,CAAA;MACP,MAAA,CAAA;IA5BO;IA+BX,CAAA,CAAE,MAAF,CAAS,CAAC,EAAV,CAAc,YAAd,EAA4B,SAAA;AACxB,UAAA;MAAA,IAAG,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAvB,CAA+B,KAA/B,CAAA,KAAyC,CAAzC,IAA8C,CAAA,CAAA,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAvB,CAAiC,CAAjC,CAAA,IAA2C,WAA3C,CAAjD;QAA6G,QAAQ,CAAC,QAAQ,CAAC,IAAlB,GAAuB,UAApI;;MACA,OAAA,GAAU,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAvB,CAAiC,CAAjC;MACV,IAAA,GAAO,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAvB,CAAiC,CAAjC;aACP,QAAA,CAAS,IAAT;IAJwB,CAA5B;IAOA,CAAA,GAAI;AACJ,SAAA,6CAAA;;MACI,CAAA,CAAE,oBAAF,CAAuB,CAAC,OAAxB,CAAgC,iCAAA,GAAkC,OAAO,CAAC,KAA1C,GAAgD,mDAAhD,GAAoG,OAAO,CAAC,KAA5G,GAAkH,sEAAlH,GAAyL,aAAc,CAAA,CAAA,CAAvM,GAA0M,IAA1M,GAA+M,aAAc,CAAA,CAAA,GAAE,CAAF,CAA7N,GAAkO,mGAAlO,GAAsU,OAAO,CAAC,IAA9U,GAAmV,WAAnV,GAA+V,OAAO,CAAC,QAAvW,GAAgX,gBAAhX,GAAiY,OAAO,CAAC,GAAzY,GAA6Y,2DAA7a;MACA,CAAA,CAAE,mBAAF,CAAsB,CAAC,MAAvB,CAA8B,4CAAA,GAA6C,OAAO,CAAC,KAArD,GAA2D,qBAAzF;MACA,CAAA;AAHJ;IAKA,IAAG,CAAC,QAAQ,CAAC,GAAV,IAAiB,SAAS,CAAC,KAA9B;MACI,CAAA,CAAE,gBAAF,CAAmB,CAAC,IAApB,CAAA,EADJ;KAAA,MAAA;MAGI,CAAA,CAAE,YAAF,CAAe,CAAC,IAAhB,CAAA,EAHJ;;IAKA,CAAA,CAAE,MAAF,CAAS,CAAC,IAAV,CAAe,SAAA;MACX,OAAA,GAAU;MACV,CAAA,CAAE,SAAF,CAAY,CAAC,QAAb,CAAsB,QAAtB;MACA,CAAA,CAAE,QAAF,CAAW,CAAC,QAAZ,CAAqB,QAArB;MACA,UAAA,CAAY,SAAA;QACR,CAAA,CAAE,MAAF,CAAS,CAAC,QAAV,CAAmB,QAAnB;eACA,CAAA,CAAE,SAAF,CAAY,CAAC,IAAb,CAAA;MAFQ,CAAZ,EAGE,GAHF;MAIA,MAAA,CAAA;MACA,IAAG,QAAQ,CAAC,QAAQ,CAAC,IAAlB,KAA0B,YAA7B;QACI,CAAA,CAAE,qBAAF,CAAwB,CAAC,OAAzB,CAAiC,OAAjC;QACA,QAAQ,CAAC,QAAQ,CAAC,IAAlB,GAAyB,UAF7B;;MAGA,CAAA,CAAE,MAAF,CAAS,CAAC,OAAV,CAAkB,YAAlB;IAZW,CAAf,CAcA,CAAC,MAdD,CAcQ,MAdR;IAgBA,CAAA,CAAE,eAAF,CAAkB,CAAC,KAAnB,CAAyB,SAAC,CAAD;AACrB,UAAA;MAAA,CAAC,CAAC,cAAF,CAAA;MACA,CAAA,CAAE,MAAF,CAAS,CAAC,WAAV,CAAsB,SAAtB;MACA,IAAG,CAAA,CAAE,MAAF,CAAS,CAAC,QAAV,CAAmB,SAAnB,CAAH;QACI,GAAA,GAAM,CAAA,CAAE,UAAF,CAAa,CAAC,WAAd,CAAA;eACN,CAAA,CAAE,cAAF,CAAiB,CAAC,GAAlB,CAAsB;UAAA,SAAA,EAAU,gBAAA,GAAiB,GAAjB,GAAqB,OAA/B;SAAtB,EAFJ;OAAA,MAAA;eAII,CAAA,CAAE,cAAF,CAAiB,CAAC,GAAlB,CAAsB;UAAA,SAAA,EAAU,oBAAV;SAAtB,EAJJ;;IAHqB,CAAzB;IASA,cAAA,GAAiB;IAEjB,CAAA,CAAE,mBAAF,CAAsB,CAAC,KAAvB,CAA6B,SAAA;aACzB,CAAA,CAAE,MAAF,CAAS,CAAC,OAAV,CAAkB;QAAC,SAAA,EAAW,CAAA,CAAE,eAAF,CAAkB,CAAC,MAAnB,CAAA,CAA2B,CAAC,GAA5B,GAAkC,CAAA,CAAE,MAAF,CAAS,CAAC,WAAV,CAAA,CAAlC,GAA4D,EAAxE;OAAlB,EAA+F,GAA/F;IADyB,CAA7B;IAGA,CAAA,CAAE,qBAAF,CAAwB,CAAC,KAAzB,CAA+B,SAAA;AAC3B,UAAA;MAAA,GAAA,GAAM,CAAA,CAAE,0BAAF;MACN,CAAA,CAAE,oBAAF,CAAuB,CAAC,WAAxB,CAAoC,QAApC;MACA,CAAA,CAAE,IAAF,CAAO,CAAC,QAAR,CAAiB,QAAjB;MACA,MAAA,GAAS,CAAA,CAAE,iCAAA,GAAkC,CAAA,CAAE,IAAF,CAAO,CAAC,IAAR,CAAa,YAAb,CAAlC,GAA6D,KAA/D;MACT,MAAM,CAAC,QAAP,CAAgB,QAAhB;MACA,QAAQ,CAAC,MAAT,CAAgB,GAAhB,EAAqB,GAArB,EAA0B;QAAC,GAAA,EAAK;UAAC,CAAA,EAAE,CAAH;UAAM,OAAA,EAAS,CAAf;SAAN;OAA1B,EAAoD;QAAC,GAAA,EAAI;UAAC,CAAA,EAAE,CAAC,EAAJ;UAAQ,OAAA,EAAQ,CAAhB;UAAmB,IAAA,EAAM,MAAM,CAAC,OAAhC;SAAL;OAApD;aACA,QAAQ,CAAC,MAAT,CAAgB,MAAhB,EAAwB,GAAxB,EAA6B;QAAC,GAAA,EAAK;UAAC,CAAA,EAAE,EAAH;UAAO,OAAA,EAAQ,CAAf;SAAN;OAA7B,EAAuD;QAAC,GAAA,EAAI;UAAC,CAAA,EAAE,CAAH;UAAM,OAAA,EAAQ,CAAd;UAAiB,IAAA,EAAM,MAAM,CAAC,OAA9B;SAAL;OAAvD;IAP2B,CAA/B,CAQA,CAAC,UARD,CAQY,SAAA;MACR,cAAA,GAAiB,CAAA,CAAE,SAAF,CAAY,CAAC,GAAb,CAAiB;QAAA,kBAAA,EAAmB,gCAAA,GAAiC,CAAA,CAAE,IAAF,CAAO,CAAC,IAAR,CAAa,YAAb,CAAjC,GAA4D,KAA/E;OAAjB,CAAsG,CAAC,QAAvG,CAAgH,iBAAhH;MACjB,cAAc,CAAC,QAAf,CAAwB,MAAxB;MACA,cAAc,CAAC,GAAf,CAAmB;QAAA,MAAA,EAAQ,CAAC,CAAA,CAAE,MAAF,CAAS,CAAC,MAAV,CAAA,CAAA,GAAmB,CAAA,CAAE,IAAF,CAAO,CAAC,MAAR,CAAA,CAAgB,CAAC,GAArC,CAAA,GAA4C,EAApD;QAAwD,IAAA,EAAM,CAAA,CAAE,IAAF,CAAO,CAAC,MAAR,CAAA,CAAgB,CAAC,IAAjB,GAAwB,cAAc,CAAC,UAAf,CAAA,CAAA,GAA8B,CAAtD,GAA0D,CAAA,CAAE,IAAF,CAAO,CAAC,UAAR,CAAA,CAAA,GAAuB,CAAjF,GAAqF,GAAnJ;OAAnB;aACA,QAAQ,CAAC,MAAT,CAAgB,cAAhB,EAAgC,GAAhC,EAAqC;QAAC,GAAA,EAAK;UAAC,CAAA,EAAE,CAAC,EAAJ;UAAQ,OAAA,EAAQ,CAAhB;SAAN;OAArC,EAAgE;QAAC,GAAA,EAAI;UAAC,CAAA,EAAE,CAAH;UAAM,OAAA,EAAQ,CAAd;SAAL;OAAhE;IAJQ,CARZ,CAaA,CAAC,UAbD,CAaY,SAAA;AACR,UAAA;MAAA,QAAA,GAAW;aACX,QAAQ,CAAC,MAAT,CAAgB,QAAhB,EAA0B,GAA1B,EAA+B;QAAC,GAAA,EAAK;UAAC,CAAA,EAAE,CAAH;UAAM,OAAA,EAAQ,CAAd;SAAN;OAA/B,EAAwD;QAAC,GAAA,EAAI;UAAC,CAAA,EAAE,CAAC,EAAJ;UAAQ,OAAA,EAAQ,CAAhB;SAAL;QAAyB,UAAA,EAAY,SAAA;iBACzF,QAAQ,CAAC,MAAT,CAAA;QADyF,CAArC;OAAxD;IAFQ,CAbZ;IAoBA,QAAA,GAAW;IAEX,CAAA,CAAE,mBAAF,CAAsB,CAAC,IAAvB,CAA4B,2BAA5B,EAAyD,SAAC,KAAD;AAErD,UAAA;MAAA,GAAA,GAAM,CAAK,IAAA,IAAA,CAAA,CAAL,CAAY,CAAC,OAAb,CAAA;MAEN,IAAG,CAAC,GAAA,GAAM,QAAP,CAAA,GAAmB,GAAtB;AACI,eADJ;;MAGA,QAAA,GAAW;MAEX,IAAG,KAAK,CAAC,aAAa,CAAC,UAApB,GAAiC,CAAjC,IAAsC,KAAK,CAAC,aAAa,CAAC,MAApB,GAA6B,CAAtE;eACI,CAAA,CAAE,4BAAF,CAA+B,CAAC,IAAhC,CAAA,CAAsC,CAAC,OAAvC,CAA+C,OAA/C,EADJ;OAAA,MAAA;eAGI,CAAA,CAAE,4BAAF,CAA+B,CAAC,IAAhC,CAAA,CAAsC,CAAC,OAAvC,CAA+C,OAA/C,EAHJ;;IATqD,CAAzD;WAgBA,SAAA,GAAY;;AAEZ;;;;;;;;;;;;;;EA/NG;;EA6OP,CAAA,CAAE,IAAF;AA9OA","file":"main.js","sourcesContent":["window.stopLoad = true;\r\nhome = -> \r\n    loading = true\r\n    winHeight = 0\r\n\r\n    #random number generator\r\n    getRandomInt = (min, max) ->\r\n        Math.floor(Math.random() * (max - min + 1)) + min;\r\n\r\n    # -- Loading Animation -- #\r\n    lastLoad = 0\r\n\r\n    doLoad = -> \r\n        messages = ['Mixing awesomesauce', 'Generating experiences', 'Synchronizing passions', 'Revitalizing dreams', 'Building the unbuildable', 'Inspiring innovation', 'Flying to the moon', 'Spreading smiles', 'Filtering memes', 'Feeding puppies', 'Picking up Bobby Tables']\r\n        \r\n        #generate a unique random number\r\n        rand = lastLoad\r\n        while rand == lastLoad\r\n            rand = getRandomInt(0, messages.length-1)\r\n        lastLoad = rand\r\n        \r\n        $('#loader-old-message').remove()\r\n        nextMessage = $('<div />').text(messages[rand]).attr(class: 'loader-message', id: 'loader-next-message').appendTo('#loader')\r\n        $('#loader-main-message').attr(id: 'loader-old-message')\r\n        \r\n        #allow dom to update so animation can proceed\r\n        setTimeout( ->\r\n            nextMessage.attr(id: 'loader-main-message')\r\n        , 10)\r\n        \r\n        #Rerun every 1.2s\r\n        setTimeout( -> \r\n            if loading then doLoad()\r\n            return\r\n        , 1200)\r\n        return\r\n\r\n    setTimeout( ->\r\n        if loading then doLoad() \r\n    , 400)\r\n\r\n    resize = (resized = false) ->\r\n        $('#pages').css('min-height': $(window).height())\r\n        winHeight = $(window).height()\r\n        $('#pages>.page, .page-height').css(minHeight: winHeight-$('#nav').outerHeight()-$('#spacer').outerHeight())\r\n        $('.v-center-self').each ->\r\n            top = ($(this).parent().innerHeight() / 2 - $(this).outerHeight() / 2)\r\n            if top < 0 then top = 0\r\n            $(this).css(top: top)\r\n        $('.v-center').each ->\r\n            top = (winHeight / 2 - $(this).outerHeight() / 2 - 42)\r\n            if top < 0 then top = 0\r\n            $(this).css(top: top)\r\n        if(!resized)\r\n            setTimeout(->\r\n                resize(true)\r\n            , 500)\r\n            setTimeout(->\r\n                resize(true)\r\n            , 1000)\r\n        return\r\n        \r\n    binds = []\r\n    scrollControllers = []\r\n\r\n    controllers = \r\n        home: window.home\r\n        blog: ->\r\n            return ->\r\n        portfolio: ->\r\n            $('#portfolio-bottom a:first').trigger('click')\r\n            return ->\r\n        about: -> \r\n            controller = new ScrollMagic.Controller()\r\n            if $(window).width() > 768 \r\n                timeline1 = new TimelineMax();\r\n                timeline1.add([\r\n                    TweenMax.fromTo(\"#about-part-2-title\", 1, {x: \"160px\", opacity: 0}, {x: 0, opacity: 1, ease: Power2.easeOut}),\r\n                    TweenMax.fromTo(\"#about-part-2-image\", 1, {y: \"190px\", opacity: 0}, {y: 0, opacity: 1, ease: Power2.easeOut}), \r\n                    TweenMax.fromTo(\"#about-part-2-paragraph\", 1, {x: \"260px\", opacity: 0}, {x: 0, opacity: 1, ease: Power2.easeOut})\r\n                ])\r\n                timeline2 = new TimelineMax();\r\n                timeline2.add([\r\n                    TweenMax.fromTo(\"#about-title\", 1, {y: 0}, {y: 100, ease: Power0.easeNone}),\r\n                    TweenMax.fromTo(\"#about-subtitle\", 1, {y: 0}, {y: 150, ease: Power0.easeNone}),\r\n                    TweenMax.fromTo(\"#about-down-arrow\", 1, {y: 0}, {y: 0, ease: Power0.easeNone}),\r\n                    TweenMax.fromTo(\"#about-part-1-parent\", 1, {opacity: 1}, {opacity: 0, ease: Power0.easeNone}) \r\n                ])\r\n                scene1 = new ScrollMagic.Scene(duration: 300, offset:0, triggerElement: '#about-part-2', reverse: true)\r\n                scene1.setTween(timeline1)\r\n                scene2 = new ScrollMagic.Scene(duration: 600, offset:200, triggerElement: '#about-part-1', reverse: true)\r\n                scene2.setTween(timeline2)\r\n                controller.addScene(scene1).addScene(scene2)\r\n            scene3 = new ScrollMagic.Scene(offset:0, triggerElement: '#about-part-3-main', reverse: true)\r\n            scene4 = new ScrollMagic.Scene(offset:0, triggerElement: '#about-steps', reverse: true)\r\n            scene3.setClassToggle(\"#about\", \"society\")\r\n            scene4.setClassToggle(\"#about-steps\", \"active\")\r\n            controller.addScene(scene3).addScene(scene4)\r\n            scrollControllers.push(controller)\r\n            return ->\r\n            \r\n    $('#about-scroll-down-1').click ->\r\n        $('body').animate({scrollTop: winHeight}, 750) \r\n        \r\n    term = ->\r\n    loadPage = (page) ->\r\n        term()\r\n        if $('#mobile-menu').hasClass('active')\r\n            $('#hamburger').removeClass('active')\r\n            $('#mobile-menu').removeClass('active').delay(200).hide(1);\r\n        oldPage = $('#pages>.page.active').removeClass('ready')\r\n        oldPage.removeClass('active')#.css(maxHeight: $(window).height()-$('#pages').offset().top-$('#spacer').outerHeight(), overflow: 'hidden')\r\n        $('#nav a.active').removeClass('active')\r\n        bind.off('.controller') for bind in binds\r\n        controller.destroy(true) for controller in scrollControllers\r\n        $(\"#nav a[href=\\'/#!/\"+page+\"\\']\").addClass('active')\r\n        $('#'+page).css(opacity: 0).show()\r\n        tl = new TimelineMax();\r\n        tl.add([\r\n            TweenMax.fromTo(oldPage, 0.3, {y: '0%', opacity: 1}, {y: '-50px', opacity: 0, ease: Power1.easeOut, onComplete: -> \r\n                oldPage.hide()\r\n                return\r\n            }),\r\n            TweenMax.fromTo($('#'+page), 0.3, {y: '50px', opacity: 0}, {y: '0%', opacity: 1, ease: Power1.easeOut})\r\n        ])\r\n        tl.play()\r\n        $(window).scrollTop(0)\r\n        setTimeout( ->\r\n            $('#'+page).addClass('active')#.css(maxHeight: 'none', overflow: 'auto')\r\n            resize()\r\n            $(window).trigger('scroll')\r\n        , 100)\r\n        term = controllers[page]()\r\n        resize()\r\n        return\r\n\r\n    $(window).on( \"hashchange\", ->\r\n        if document.location.hash.indexOf(\"#!/\") != 0 or document.location.hash.substring(3) not of controllers then document.location.hash=\"#!/home\"\r\n        tmpHash = document.location.hash.substring(3)\r\n        hash = document.location.hash.substring(3)\r\n        loadPage(hash)\r\n    )\r\n\r\n    i = 0\r\n    for project in projectData\r\n        $('#portfolio-content').prepend('<div class=\"slide\" data-image=\"'+project.image+'\" style=\"background-image:url(\\'assets/img/sites/'+project.image+'\\');\"><div class=\"color-overlay\" style=\"background: linear-gradient('+projectColors[i]+', '+projectColors[i+1]+');\"></div><img class=\"overlay\" src=\"assets/img/whiteoverlay.png\"/><div class=\"v-center-self\"><h1>'+project.name+'</h1><h2>'+project.subtitle+'</h2><a href=\"'+project.url+'\" class=\"btn\" target=\"_blank\">SEE PROJECT</a></div></div>')\r\n        $('#portfolio-bottom').append('<a href=\"javascript:void(0);\" data-image=\"'+project.image+'\"><span></span></a>');\r\n        i++\r\n        \r\n    if !isMobile.any && Modernizr.webgl \r\n        $('#home-name-alt').hide()\r\n    else\r\n        $('#home-name').hide()\r\n        \r\n    $(window).load ->\r\n        loading = false;\r\n        $('#loader').addClass('loaded')\r\n        $('#pages').addClass('loaded')\r\n        setTimeout( ->\r\n            $('#nav').addClass('loaded')\r\n            $('#loader').hide()\r\n        , 500)\r\n        resize()\r\n        if document.location.hash == \"#!/contact\" \r\n            $('.contact-link:first').trigger('click')\r\n            document.location.hash = \"#!/home\"\r\n        $(window).trigger(\"hashchange\")\r\n        return\r\n    .resize(resize)\r\n\r\n    $('.contact-link').click (e)->\r\n        e.preventDefault()\r\n        $('body').toggleClass('contact') \r\n        if $('body').hasClass('contact')\r\n            top = $('#contact').outerHeight()\r\n            $('#pages, #nav').css(transform:'translate3d(0,'+top+'px,0)')\r\n        else\r\n            $('#pages, #nav').css(transform:'translate3d(0,0,0)')\r\n\r\n    portfolioHover = null\r\n\r\n    $('#about-down-arrow').click ->\r\n        $('body').animate({scrollTop: $('#about-part-2').offset().top - $('#nav').outerHeight() - 15}, 300)\r\n\r\n    $('#portfolio-bottom a').click ->\r\n        old = $('#portfolio .slide.active')\r\n        $('#portfolio .active').removeClass('active')\r\n        $(this).addClass('active')\r\n        active = $('#portfolio .slide[data-image=\\''+$(this).attr('data-image')+'\\']')\r\n        active.addClass('active')\r\n        TweenMax.fromTo(old, 0.3, {css: {y:0, opacity: 1}}, {css:{y:-50, opacity:0, ease: Power4.easeOut}}) \r\n        TweenMax.fromTo(active, 0.3, {css: {y:50, opacity:0}}, {css:{y:0, opacity:1, ease: Power4.easeOut}}) \r\n    .mouseenter ->\r\n        portfolioHover = $('<div />').css('background-image':'url(\\'/assets/img/screenshots/'+$(this).attr('data-image')+'\\')').addClass('portfolio-hover')\r\n        portfolioHover.appendTo('body')\r\n        portfolioHover.css(bottom: ($(window).height()-$(this).offset().top) + 20, left: $(this).offset().left - portfolioHover.outerWidth() / 2 + $(this).outerWidth() / 2 + 7.5)\r\n        TweenMax.fromTo(portfolioHover, 0.3, {css: {y:-10, opacity:0}}, {css:{y:0, opacity:1}}) \r\n    .mouseleave -> \r\n        tmpHover = portfolioHover\r\n        TweenMax.fromTo(tmpHover, 0.3, {css: {y:0, opacity:1}}, {css:{y:-10, opacity:0}, onComplete: ->\r\n            tmpHover.remove()\r\n        })\r\n        \r\n        \r\n    lastAnim = 0; \r\n\r\n    $('#portfolio .slide').bind('mousewheel DOMMouseScroll', (event) -> \r\n\r\n        now = (new Date()).getTime()\r\n        \r\n        if (now - lastAnim) < 100 \r\n            return\r\n        \r\n        lastAnim = now\r\n\r\n        if event.originalEvent.wheelDelta > 0 || event.originalEvent.detail < 0 \r\n            $('#portfolio-bottom a.active').prev().trigger('click')\r\n        else\r\n            $('#portfolio-bottom a.active').next().trigger('click')\r\n            \r\n    )\r\n\r\n    haikuMode = false\r\n\r\n    ###\r\n    $('#footer a').click( -> \r\n        haikuMode = !haikuMode\r\n        $.each(content, (key, section) ->\r\n            $.each(section, (elem, value) -> \r\n                $('#'+elem).html(value[if haikuMode then 1 else 0])\r\n                return\r\n            )\r\n            return\r\n        )\r\n        $(window).trigger('scroll').trigger('resize')\r\n        return \r\n    )\r\n    ###\r\n$(home)"],"sourceRoot":"/source/"}